"use strict";var DMSToolkit=function(){function DMSToolkit(){}DMSToolkit.log=function(msgContent,byWho){if(byWho===void 0){byWho="default"}console.log(byWho,"-",this.formatDate(new Date,"HH:mm:ss"),":",msgContent)};DMSToolkit.formatDate=function(time,format,lang){if(format===void 0){format="YYYY-MM-DD hh:mm:ss"}if(lang===void 0){lang="en"}var local={en:{monthName:function(i){return["January","February","March","April","May","June","July","August","September","October","November","December"][i]},monthNameShort:function(i){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][i]},dayName:function(i){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i]},dayNameShort:function(i){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][i]},meridiem:function(h){return["AM","PM"][Math.floor(h/12)]},meridiemShort:function(h){return["A","P"][Math.floor(h/12)]}},zh:{monthName:function(i){return["一","二","三","四","五","六","七","八","九","十","十一","十二"][i]+"月"},monthNameShort:function(i){return i+1+" 月"},dayName:function(i){return"周"+["日","一","二","三","四","五","六"][i]},dayNameShort:function(i){return"星期"+["日","一","二","三","四","五","六"][i]},meridiem:function(h){return["上午","下午"][Math.floor(h/12)]},meridiemShort:function(h){return["晨","昏"][Math.floor(h/12)]}}};var addPadding=function(num,digits){if(digits===void 0){digits=2}var zeroArr=[];for(var i=0;i<digits;i++)zeroArr.push("0");var longNum=zeroArr.join("")+String(num);return longNum.substr(longNum.length-digits,longNum.length)};var date={};var dateBase=new Date(time instanceof Date?+time:time);date.YYYY=dateBase.getFullYear();date.YYY=date.YYYY;date.YY=date.YYYY.toString().substring(2);date.M=dateBase.getMonth()+1;date.MM=addPadding(date.M);date.MMMM=local[lang].monthName(date.M-1);date.MMM=local[lang].monthNameShort(date.M-1);date.D=dateBase.getDate();date.DD=addPadding(date.D);var dayIndex=dateBase.getDay();date.DDDD=local[lang].dayName(dayIndex);date.DDD=local[lang].dayNameShort(dayIndex);date.H=dateBase.getHours();date.HH=addPadding(date.H);date.h=date.H%12===0?12:date.H%12;date.hh=addPadding(date.h);date.m=dateBase.getMinutes();date.mm=addPadding(date.m);date.s=dateBase.getSeconds();date.ss=addPadding(date.s);date.fff=addPadding(dateBase.getMilliseconds(),3);date.ff=addPadding(Math.floor(dateBase.getMilliseconds()/10));date.f=Math.floor(dateBase.getMilliseconds()/100);date.zzzz=addPadding(Math.floor(-dateBase.getTimezoneOffset()/60))+":"+addPadding(-dateBase.getTimezoneOffset()%60);date.zzz=Math.floor(-dateBase.getTimezoneOffset()/60)+":"+addPadding(-dateBase.getTimezoneOffset()%60);date.zz=addPadding(Math.floor(-dateBase.getTimezoneOffset()/60));date.z=Math.floor(-dateBase.getTimezoneOffset()/60);date.TT=local[lang].meridiem(date.h);date.T=local[lang].meridiemShort(date.h);date.tt=date.TT.toLowerCase();date.t=date.T.toLowerCase();var formatLetters=format.split("");var formatArr=[];var temp={nowLetter:"",nowWord:""};for(var i=0;i<formatLetters.length;i++){if(temp.nowWord.length===0){temp.nowLetter=formatLetters[i];temp.nowWord=formatLetters[i];continue}if(formatLetters[i]!==temp.nowLetter){formatArr.push(temp.nowWord in date?String(date[temp.nowWord]):temp.nowWord);temp.nowLetter=formatLetters[i];temp.nowWord=formatLetters[i];continue}temp.nowWord+=formatLetters[i];continue}if(temp.nowWord.length!==0){formatArr.push(temp.nowWord in date?String(date[temp.nowWord]):temp.nowWord)}return formatArr.join("")};DMSToolkit.sleep=function(time){return new Promise(function(resolve){return setTimeout(resolve,time)})};return DMSToolkit}();